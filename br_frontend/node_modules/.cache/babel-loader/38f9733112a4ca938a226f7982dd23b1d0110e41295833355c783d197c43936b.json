{"ast":null,"code":"var _jsxFileName = \"D:\\\\Codes\\\\Final_project_demo\\\\br_frontend\\\\src\\\\pages\\\\Account\\\\Account.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getUserIdFromToken, getUserRoleFromToken, getAuthHeaders } from '../../services/userAuth';\nimport axios from 'axios';\nimport '../../components/Account.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5231';\nconst Account = () => {\n  _s();\n  const [userInfo, setUserInfo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const userId = parseInt(getUserIdFromToken(), 10);\n      if (isNaN(userId)) {\n        setError(\"Không xác định được người dùng.\");\n        setLoading(false);\n        return;\n      }\n      const role = getUserRoleFromToken();\n      console.log(\"User Role:\", role);\n      console.log(\"\");\n      try {\n        let response;\n        if (role === '0') {\n          response = await axios.get(`${API_BASE_URL}/api/Lesse/${userId}`, {\n            headers: getAuthHeaders()\n          });\n        } else if (role === '2') {\n          response = await axios.get(`${API_BASE_URL}/api/Staff/${userId}`, {\n            headers: getAuthHeaders()\n          });\n          console.log(\"API Response:\", response.data);\n        } else {\n          setError(\"Vai trò không hợp lệ.\");\n          setLoading(false);\n          return;\n        }\n        setUserInfo(response.data);\n      } catch (error) {\n        console.error(\"Error fetching staff info:\", error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"account-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"account-title\",\n      children: \"Th\\xF4ng tin t\\xE0i kho\\u1EA3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"H\\u1ECD t\\xEAn:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 24\n        }, this), \" \", userInfo.FullName || userInfo.FullName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 24\n        }, this), \" \", userInfo.Username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 24\n        }, this), \" \", userInfo.Email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0110\\u1ECBa ch\\u1EC9:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 24\n        }, this), \" \", userInfo.Address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 24\n        }, this), \" \", userInfo.PhoneNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Ng\\xE0y t\\u1EA1o:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 24\n        }, this), \" \", new Date(userInfo.CreatedAt).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Kh\\xF4ng c\\xF3 th\\xF4ng tin t\\xE0i kho\\u1EA3n n\\xE0o.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(Account, \"iIZjHdo4dQKyK+HkpX1jOwNhFhw=\");\n_c = Account;\nexport default Account;\nvar _c;\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["React","useEffect","useState","getUserIdFromToken","getUserRoleFromToken","getAuthHeaders","axios","jsxDEV","_jsxDEV","API_BASE_URL","Account","_s","userInfo","setUserInfo","loading","setLoading","error","setError","fetchUserInfo","userId","parseInt","isNaN","role","console","log","response","get","headers","data","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","FullName","Username","Email","Address","PhoneNumber","Date","CreatedAt","toLocaleDateString","_c","$RefreshReg$"],"sources":["D:/Codes/Final_project_demo/br_frontend/src/pages/Account/Account.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getUserIdFromToken, getUserRoleFromToken, getAuthHeaders } from '../../services/userAuth';\r\nimport axios from 'axios';\r\nimport '../../components/Account.css';\r\n\r\nconst API_BASE_URL = 'http://localhost:5231';\r\n\r\nconst Account = () => {\r\n    const [userInfo, setUserInfo] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        const fetchUserInfo = async () => {\r\n        const userId = parseInt(getUserIdFromToken(), 10);\r\n        \r\n        if (isNaN(userId)) {\r\n            setError(\"Không xác định được người dùng.\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const role = getUserRoleFromToken();\r\n        console.log(\"User Role:\", role);\r\n        console.log(\"\")\r\n        try {\r\n            let response;\r\n            if (role === '0') {\r\n                response = await axios.get(`${API_BASE_URL}/api/Lesse/${userId}`, {\r\n                    headers: getAuthHeaders(),\r\n                });\r\n            } else if (role === '2') {\r\n                response = await axios.get(`${API_BASE_URL}/api/Staff/${userId}`, {\r\n                    headers: getAuthHeaders(),\r\n                });\r\n                console.log(\"API Response:\", response.data);\r\n            } else {\r\n                setError(\"Vai trò không hợp lệ.\");\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            setUserInfo(response.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching staff info:\", error);\r\n            setError(error.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n        fetchUserInfo();\r\n    }, []);\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>{error}</div>;\r\n\r\n    return (\r\n        <div className=\"account-container\">\r\n            <h2 className=\"account-title\">Thông tin tài khoản</h2>\r\n            {userInfo ? (\r\n                <div className=\"account-info\">\r\n                    <p><strong>Họ tên:</strong> {userInfo.FullName || userInfo.FullName}</p>\r\n                    <p><strong>Tên đăng nhập:</strong> {userInfo.Username}</p>\r\n                    <p><strong>Email:</strong> {userInfo.Email}</p>\r\n                    <p><strong>Địa chỉ:</strong> {userInfo.Address}</p>\r\n                    <p><strong>Số điện thoại:</strong> {userInfo.PhoneNumber}</p>\r\n                    <p><strong>Ngày tạo:</strong> {new Date(userInfo.CreatedAt).toLocaleDateString()}</p>\r\n                </div>\r\n            ) : (\r\n                <p>Không có thông tin tài khoản nào.</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Account;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}