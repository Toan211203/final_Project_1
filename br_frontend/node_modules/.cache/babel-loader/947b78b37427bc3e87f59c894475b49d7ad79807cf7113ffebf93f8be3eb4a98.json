{"ast":null,"code":"import jwtDecode from 'jwt-decode';\n\n// Lấy userId từ token\nexport const getUserIdFromToken = () => {\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n  try {\n    const decoded = jwtDecode(token);\n    return decoded.UserId || decoded.userId || decoded.id;\n  } catch (err) {\n    console.error('Token decode error:', err);\n    return null;\n  }\n};\n\n// Lấy role từ token\nexport const getUserRoleFromToken = () => {\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n  try {\n    const decoded = jwtDecode(token);\n    return decoded.role || decoded.Role;\n  } catch (err) {\n    console.error('Token decode error:', err);\n    return null;\n  }\n};\nexport const getAuthHeaders = () => {\n  const token = localStorage.getItem('token');\n  return {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  };\n};","map":{"version":3,"names":["jwtDecode","getUserIdFromToken","token","localStorage","getItem","decoded","UserId","userId","id","err","console","error","getUserRoleFromToken","role","Role","getAuthHeaders"],"sources":["D:/Codes/Final_project_demo/br_frontend/src/services/userAuth.js"],"sourcesContent":["import jwtDecode from 'jwt-decode';\r\n\r\n// Lấy userId từ token\r\nexport const getUserIdFromToken = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return null;\r\n\r\n    try {\r\n        const decoded = jwtDecode(token);\r\n        return decoded.UserId || decoded.userId || decoded.id;\r\n    } catch (err) {\r\n        console.error('Token decode error:', err);\r\n        return null;\r\n    }\r\n};\r\n\r\n// Lấy role từ token\r\nexport const getUserRoleFromToken = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return null;\r\n\r\n    try {\r\n        const decoded = jwtDecode(token);\r\n        return decoded.role || decoded.Role;\r\n    } catch (err) {\r\n        console.error('Token decode error:', err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getAuthHeaders = () => {\r\n    const token = localStorage.getItem('token');\r\n    return {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n    };\r\n};"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;;AAElC;AACA,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;EAEvB,IAAI;IACA,MAAMG,OAAO,GAAGL,SAAS,CAACE,KAAK,CAAC;IAChC,OAAOG,OAAO,CAACC,MAAM,IAAID,OAAO,CAACE,MAAM,IAAIF,OAAO,CAACG,EAAE;EACzD,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;IACzC,OAAO,IAAI;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAMG,oBAAoB,GAAGA,CAAA,KAAM;EACtC,MAAMV,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;EAEvB,IAAI;IACA,MAAMG,OAAO,GAAGL,SAAS,CAACE,KAAK,CAAC;IAChC,OAAOG,OAAO,CAACQ,IAAI,IAAIR,OAAO,CAACS,IAAI;EACvC,CAAC,CAAC,OAAOL,GAAG,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;IACzC,OAAO,IAAI;EACf;AACJ,CAAC;AAED,OAAO,MAAMM,cAAc,GAAGA,CAAA,KAAM;EAChC,MAAMb,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAO;IACH,eAAe,EAAE,UAAUF,KAAK,EAAE;IAClC,cAAc,EAAE;EACpB,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}